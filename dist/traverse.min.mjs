var e={d:(t,r)=>{for(var s in r)e.o(r,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:r[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{A:()=>s});const r=new WeakMap;function s(e){return r.get(e)??function(e){let t=1;class s{static NONE=0;static EXTERNPROTO_DECLARATIONS=t;static PROTO_DECLARATIONS=t<<=1;static ROOT_NODES=t<<=1;static IMPORTED_NODES=t<<=1;static EXTERNPROTO_DECLARATION_SCENE=t<<=1;static PROTO_DECLARATION_BODY=t<<=1;static PROTOTYPE_INSTANCES=t<<=1;static INLINE_SCENE=t<<=1;static ALL=(t<<1)-1;static*traverse(t,r){const s=new Set;switch(!0){case t instanceof e.X3DExecutionContext:yield*this.#e(t,r,s);break;case t instanceof e.ExternProtoDeclarationArray:case t instanceof e.ProtoDeclarationArray:case t instanceof e.MFNode:case Array.isArray(t):yield*this.#t(t,r,s);break;case t instanceof e.SFNode:yield*this.#r(t.getValue(),r,s);break;case t instanceof e.X3DBaseNode:yield*this.#r(t,r,s)}}static*#e(e,t,r){if(e){if(t&s.EXTERNPROTO_DECLARATIONS)for(const s of e.externprotos)yield*this.#r(s,t,r);if(t&s.PROTO_DECLARATIONS)for(const s of e.protos)yield*this.#r(s,t,r);t&s.ROOT_NODES&&(yield*this.#t(e.rootNodes,t,r)),yield e}}static*#t(t,r,s){for(const a of t)yield*this.#r(a instanceof e.SFNode?a.getValue():a,r,s)}static*#r(t,r,a){if(!t)return;if(a.has(t))return;a.add(t),yield*this.#s(t.getUserDefinedFields(),r,a),yield*this.#s(t.getPredefinedFields(),r,a);const o=t.getType();for(let i=o.length-1;i>=0;--i){switch(o[i]){case e.X3DConstants.X3DExternProtoDeclaration:r&this.EXTERNPROTO_DECLARATION_SCENE&&(yield*this.#e(t.getInternalScene(),r,a));break;case e.X3DConstants.X3DProtoDeclaration:r&s.PROTO_DECLARATION_BODY&&(yield*this.#e(t.getBody(),r,a));break;case e.X3DConstants.X3DPrototypeInstance:r&s.PROTOTYPE_INSTANCES&&(yield*this.#e(t.getBody(),r,a));break;case e.X3DConstants.Inline:r&this.INLINE_SCENE&&(yield*this.#e(t.getInternalScene(),r,a));break;default:continue}break}yield t instanceof e.X3DNode?e.SFNodeCache.get(t):t}static*#s(t,r,s){for(const a of t)switch(a.getType()){case e.X3DConstants.SFNode:yield*this.#r(a.getValue(),r,s);break;case e.X3DConstants.MFNode:yield*this.#t(a,r,s)}}}return e.SFNode.prototype.traverse=function*(e){yield*s.traverse(this,e)},e.MFNode.prototype.traverse=function*(e){yield*s.traverse(this,e)},e.X3DExecutionContext.prototype.traverse=function*(e=s.ROOT_NODES){yield*s.traverse(this,e)},e.ProtoDeclarationArray.prototype.traverse=function*(e){yield*s.traverse(this,e)},e.ExternProtoDeclarationArray.prototype.traverse=function*(e){yield*s.traverse(this,e)},r.set(e,s),s}(e)}var a=t.A;export{a as default};